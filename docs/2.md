# 运行Node.js
安装 Node.js 程序并将其添加到环境变量后，即可在命令行中运行 `node`

## 直接运行

```shell
node
```
效果如下：
```shell
> node
Welcome to Node.js v16.20.2.
Type ".help" for more information.
> 
```

直接运行`node`会启动REPL（Read-Evaluate-Print-Loop）会话，效果类似在浏览器开发者工具中打开控制台

## eval

```shell
node -e "console.log('hello')"
node --eval "console.log('hello')"
```
效果类似JS中的`eval()`，可以将字符串作为代码运行

## 运行js文件

```shell
node app
```
效果同
```shell
path/to/node app.js
```

### shebang
[Shebang - wikipedia](https://zh.wikipedia.org/wiki/Shebang)

也可以通过在js文件第一行写"shebang"告诉shell使用什么程序运行代码

```js
#!path/to/node

// your code
```
如果`node`加入到了环境变量，还可以这样写
```js
#!/usr/bin/env node

// your code
```

> 直接运行文件可能需要文件的可执行权限，在 Mac 中可执行以下代码授权
>  ```shell
>  chmod u+x app.js
>  ```

### 使用 nodemon 监视变化

`nodemon` 是一个npm模块，作用是监视js脚本文件变化，自动重启node.js脚本

#### 安装
通过`npm`包管理器全局安装
```shell
npm i -g nodemon
```

#### 使用
```shell
nodemon app
```

## 在 node.js 中读写环境变量

写入
```shell
key=abc node index.js
```

读取
```shell
// index.js
console.log(process.env.key) // abc
```

### 使用 dotenv 管理 env

`dotenv` 是一个npm模块，作用是将 `.env` 文件中的变量加载为`process.env`对象上的属性

```.env
key=abc
```
```js
require('dotenv').config()

console.log(process.env.key) // abc
```

## 参考资料

- [Run Node.js scripts from the command line](https://nodejs.dev/en/learn/run-nodejs-scripts-from-the-command-line/)